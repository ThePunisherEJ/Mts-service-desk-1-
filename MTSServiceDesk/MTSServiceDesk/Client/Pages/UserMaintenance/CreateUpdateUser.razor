@page "/CreateUpdateUser/{ClientId}/{UserId}"
@inherits CreateUpdateUserBase


@if (UserId != Guid.Empty.ToString())
{
    <h3><strong>Edit User</strong></h3>
}
else
{<h3><strong>New User</strong></h3>}
<br />
@if (UserId != Guid.Empty.ToString())
{<label class="MTS-CSS-label-variant-01">UserId</label><br />
<label>@UserRequest.UserId</label>}
else
{}
@if (UserRequest != null)
{

<EditForm Model="UserRequest" OnValidSubmit="FormSave" Context="EditForm">
    <DataAnnotationsValidator />
    @*<label style="display: inline-block; text-align: right">User ID</label><br />*@

    <br />
    <label @*style="display: inline-block; text-align: right" *@ class="MTS-CSS-label">Client ID</label><br />


    <InputSelect @bind-Value="selectedClientId" class="MTS-CSS-dropDownList">

        @foreach (var client in clients)
            {
            <option value="@client.Id"> @client.Name</option>

            }
    </InputSelect>

    <br />


    <br />
    <label class="MTS-CSS-label">Type of user</label><br />
    <InputSelect @bind-Value="selectedUserType" class="MTS-CSS-dropDownList">

        <option value="1"> Administrator</option>
        <option value="2"> Consultant</option>
        <option value="3"> User</option>
    </InputSelect>
    <br />
    @*ValueChanged="@((string value) => OnValueChanged(value ))"*@
    <label class="col-form-label" style="display:inline-block; text-align:right">First Name</label><br />
    <InputText class="MTS-CSS-inputText form-control" placeholder="First Name" @bind-Value="UserRequest.FirstName" />
    <br />
    <label class="col-form-label" style="display:inline-block; text-align:right">Last Name</label><br />
    <InputText class="MTS-CSS-inputText form-control" placeholder="Last Name" @bind-Value="UserRequest.LastName" />
    <br />
    <label class="col-form-label" style="display:inline-block; text-align:right">Email</label><br />
    <InputText class="MTS-CSS-inputText form-control" placeholder="Email" @bind-Value="UserRequest.Email" />
    <ValidationMessage For="@(() => UserRequest.Email)" />
    <br />
    <label style="display: inline-block; text-align: right"> User Status</label><br />

    <label class="MTS-CSS-toggleSwitchContainer">

        <InputCheckbox class="MTS-CSS-checkBox" @bind-Value="UserIsEnabled" />

        <span class="MTS-CSS-slider"></span>

    </label>
    <br />  <br />
    <button class="MTS-CSS-button-variant-01 text-white" type="submit">Save</button> &nbsp;
    <button class="MTS-CSS-button-variant-04 text-white" type="button" @onclick="@NewUserCancel">Cancel</button>


</EditForm>
<br />
<br />
}

